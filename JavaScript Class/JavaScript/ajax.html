<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hello.</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="main.css" rel = "stylesheet">
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous">
    </script>
  </head>
<body>
    <!-- GET/POST 요청하면 브라우저 새로고침됨 -->
    <!-- ajax는 새로고침없이 GET/POST 요청하는 기능 -->

    <!-- html 파일 미리보기 띄워야 ajax 사용가능 
    127.0.0.1 이런식이나 localhost떠 있어어 함
    실행 말고 open with liveServer로 키니까 아이피주소뜸 -->

    <script>
                // get는 단방향 데이터 요청만 함 서버한테
        $.get('https://codingapple1.github.io/price.json').done(function(data){
            console.log(data.price) // 매개변수는 서버에서 받아온 데이터
        }).fail(function(){ // ajax실패시 밑에 코드 실행
            console.log('실패함') 
        })

        //$.get(), jquery 얘는 object로 자동변환 해줌.


        // 브라우저 기본 함수 fetch써도 ajax 가능
        fetch('https://codingapple1.github.io/price.json')
        .then(res => res.json()) // .then() <- 받아온 json을 object로 바꿔주는 기능
        .then(data => {
            console.log(data)
        })
        .catch(error => {
            console.log(error)
        })



                // post는 양방향이니까 서버한테 보내고 싶은 데이터 넣어줌
       /* $.post('url~~~~~'), {name : 'kim'}.done(function(data){
            console.log(data) // 매개변수는 서버에서 받아온 데이터
        }) */

       // (참고) 서버와 유저는 문자자료만 주고 받을 수 있음.
       // object, array 보내고 싶으면 따옴표 쳐서 문자처럼 만들어야함 
       // "{"price":5000}" <- JSON(따옴표 쳐서 문자처럼 만드는거)
       // JSON은 문자라 뽑아쓰는게 어려움

    </script>
















<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>
</body>
</html>  